

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Kaa tutorial &mdash; kaa 0.18.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.18.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="kaa 0.18.0 documentation" href="index.html" />
    <link rel="prev" title="Welcome to kaa’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="index.html" title="Welcome to kaa’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">kaa 0.18.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="kaa-tutorial">
<h1>Kaa tutorial<a class="headerlink" href="#kaa-tutorial" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>インストール<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ubuntu-linux">
<h3>Ubuntu linuxの場合<a class="headerlink" href="#ubuntu-linux" title="Permalink to this headline">¶</a></h3>
<div class="section" id="python3-3">
<h4>Python3.3のインストール<a class="headerlink" href="#python3-3" title="Permalink to this headline">¶</a></h4>
<p>kaaには、Python 3.3以降の環境が必要となります。Python 3.3パッケージが用意されていない Ubuntu 12.04 LTS などでは、以下の手順でPython 3.3をインストールします。Python3.3がインストール済みなら、次の「<a class="reference internal" href="#kaa">必須ライブラリと kaa のインストール</a>」に進んでください。</p>
<div class="code sh highlight-python"><pre>$ sudo apt-get install build-essential libsqlite3-dev sqlite3 bzip2 libbz2-dev libncurses5-dev libncursesw5-dev
$ wget http://www.python.org/ftp/python/3.3.3/Python-3.3.3.tgz
$ tar xzf ./Python-3.3.3.tgz
$ cd Python-3.3.3
$ ./configure
$ make
$ sudo make install</pre>
</div>
<p>次に、Pythonのパッケージ管理ツール <a class="reference external" href="https://pypi.python.org/pypi/setuptools">setuptools</a> をインストールします。</p>
<div class="code sh highlight-python"><pre>$ wget https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py
$ sudo python3.3 ez_setup.py</pre>
</div>
</div>
<div class="section" id="kaa">
<h4>必須ライブラリと kaa のインストール<a class="headerlink" href="#kaa" title="Permalink to this headline">¶</a></h4>
<p>kaaで必要なライブラリをインストールします。</p>
<blockquote>
<div>$ sudo apt-get install build-essential libncurses5-dev libncursesw5-dev</div></blockquote>
<p>PyPIより、kaa をインストールします。</p>
<div class="code sh highlight-python"><pre>$ sudo easy_install3 -U kaaedit</pre>
</div>
</div>
</div>
<div class="section" id="mac-os-x">
<h3>Mac OS Xの場合<a class="headerlink" href="#mac-os-x" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id2">
<h4>Python3.3のインストール<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>kaaには、Python 3.3以降の環境が必要となります。Python 3.3がインストールされていなければ、Homebrew などを利用してインストールしてください。Python3.3がインストール済みなら、次の「<a class="reference internal" href="#id4">kaaのインストール</a>」に進んでください。</p>
<p>Python3 のインストールには、XCode Command Line Tools が必要となります。未インストールであれば、事前に <a class="reference external" href="https://developer.apple.com/downloads/index.action">https://developer.apple.com/downloads/index.action</a> よりインストールしてください。</p>
<div class="code sh highlight-python"><pre>$ brew install python3</pre>
</div>
<p>次に、Pythonのパッケージ管理ツール <a class="reference external" href="https://pypi.python.org/pypi/setuptools">setuptools</a> をインストールします。</p>
<div class="code sh highlight-python"><pre>$ wget https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py
$ python3.3 ez_setup.py</pre>
</div>
</div>
<div class="section" id="id4">
<h4>kaaのインストール<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>PyPIより、kaa をインストールします。</p>
<div class="code sh highlight-python"><pre>$ easy_install3 -U kaaedit</pre>
</div>
</div>
</div>
</div>
<div class="section" id="id5">
<h2>環境設定<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id6">
<h3>キーボード設定<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>kaaでは、<cite>alt+k</cite> のような alt キーを使った操作を利用します。最近のWindows や Linux のターミナルエミュレータではそのまま利用できますが、Mac OS X のターミナルやiTermでは、以下の設定が必要になります。</p>
<p>Mac OS X のターミナルの場合 :</p>
<ol class="arabic simple">
<li>「環境設定」メニューを開く</li>
<li>「設定」タブを開く</li>
<li>「キーボード」タブを開く</li>
<li>「メタキーとして option キーを使用」をチェックする</li>
</ol>
<p>iTermの場合 :</p>
<ol class="arabic simple">
<li>「Preferences」メニューを開く</li>
<li>「Profiles」タブを開く</li>
<li>「Keys」タブを開く</li>
<li>「<cite>Left option Key acts as: +Esc.</cite>」 ボタンと「<cite>Right option Key acts as: +Esc.</cite>」 ボタンをチェックする</li>
</ol>
<p>Gnome terminal では、f1 キーでメニューを表示する場合は次のように設定します。</p>
<ol class="arabic simple">
<li>「Edit | Keyboard shortcuts」メニューを開く</li>
<li>ショートカットに「Help/Contents」が表示されるまでスクロールし、f1キーを別のキーに変更する。</li>
</ol>
</div>
<div class="section" id="id7">
<h3>色設定<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>kaaは256色モードをサポートしていますが、256色モードを使えるようにするには、ターミナル設定の変更が必要となる場合があります。 Max OS Xのターミナルの場合、</p>
<ol class="arabic simple">
<li>「環境設定」メニューを開く</li>
<li>「詳細」タブを開く</li>
<li>「ターミナルの宣言方法」で、「<cite>xterm-256color</cite> 」を選択する</li>
</ol>
<p>iTermでは、次のように設定します。</p>
<ol class="arabic simple">
<li>「Preferences」メニューを開く</li>
<li>「Profiles」タブを開く</li>
<li>「Terminal」タブを開く</li>
<li>「<cite>Report terminal type</cite>」で、「<cite>xterm-256color</cite>」を選択する</li>
</ol>
<p>これ以外のターミナルエミュレータでは、手動での端末種別設定が必要な場合があります。 Gnome terminalなどでは、<cite>~/.bashrc</cite> ファイルに、次の一行を追加してください。</p>
<div class="code sh highlight-python"><pre>export TERM=xterm-256color</pre>
</div>
<p>ターミナルの設定については、<a class="reference external" href="http://www.pixelbeat.org/docs/terminal_colours/#256">http://www.pixelbeat.org/docs/terminal_colours/#256</a> などを参考に256色モードを有効にしてください。</p>
</div>
</div>
<div class="section" id="id8">
<h2>kaaの基本操作<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>コマンドラインより、kaa を起動します。</p>
<div class="code sh highlight-python"><pre>$ kaa</pre>
</div>
<p>アルファベットや数字キーを叩くと、文字がそのまま入力されます。カーソル移動は、カーソルキーを使用するか、以下のキーで移動します。</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>左、Control+b</td>
<td>カーソル左</td>
</tr>
<tr class="row-even"><td>右, Control+f</td>
<td>カーソル右</td>
</tr>
<tr class="row-odd"><td>上</td>
<td>カーソル上</td>
</tr>
<tr class="row-even"><td>下</td>
<td>カーソル下</td>
</tr>
<tr class="row-odd"><td>Control+p</td>
<td>1行上の物理行に移動</td>
</tr>
<tr class="row-even"><td>Control+n</td>
<td>一行下の物理行に移動</td>
</tr>
</tbody>
</table>
<div class="section" id="id9">
<h3>メニュー操作<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p><cite>f1</cite> キー又は <cite>alt+/</cite> キーでメニューを表示します。もし表示されない場合は、「<a class="reference internal" href="#id6">キーボード設定</a>」を参照し、設定を見なおしてください。</p>
<p>メニューは、画面下端に次のように表示されます</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">File</span><span class="p">]</span><span class="o">/</span><span class="p">[</span><span class="n">Edit</span><span class="p">]</span><span class="o">/</span><span class="p">[</span><span class="n">Code</span><span class="p">]</span><span class="o">/</span><span class="p">[</span><span class="n">Macro</span><span class="p">]</span><span class="o">/</span><span class="p">[</span><span class="n">Tools</span><span class="p">]</span><span class="o">/</span><span class="p">[</span><span class="n">Window</span><span class="p">]</span>
</pre></div>
</div>
<p>画面では、メニュー項目には下線付きで表示されている文字があり、その文字をそのまま、又はaltキーと同時に押すと、メニューが選択されます。例えば、このメニューでは、<cite>f</cite> キーを入力すると <cite>File</cite> メニューが選択され、サブメニュー</p>
<div class="highlight-python"><pre>New/Open/File Info/View Diff/Save/Save As/Close/Save all/Close all/[Recently]/Quit</pre>
</div>
<p>が表示されます。</p>
</div>
<div class="section" id="id10">
<h3>ファイル操作<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>編集中のファイルを保存するときには、メニューから <tt class="docutils literal"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Save</span></tt> を選択してファイル選択画面を表示します。途中で終了する場合はエスケープキーを押してください。。</p>
<p>この画面では、カレントディレクトリのファイルと子ディレクトリの一覧が表示されます。文字を入力すると、入力した文字列を含むファイルのみを検索して表示し、<cite>tab</cite> キーと <cite>shift+tab</cite> キーで一覧からファイル名を選択できます。ファイル名が決定したら <cite>Enter</cite> キーでファイルを保存します。</p>
<p>別のファイルを編集する場合は、メニューから <tt class="docutils literal"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Open</span></tt> を選択し、ファイル選択画面からファイルを選択します。ファイルの編集が終了したら、 <tt class="docutils literal"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Close</span></tt> でファイルを閉じます。</p>
<p>この時、ファイルが変更されていれば、:</p>
<div class="highlight-python"><pre>Save file before close? [TUTORIAL-JA.rst]:  Yes/No/Cancel/View Diff</pre>
</div>
<p>と表示され、Y,N,C,D の何れかを入力します。Y(Yes)の場合はファイルが保存され、N（No)の場合は保存せずにファイルを閉じます。C(Cancel)の場合はファイルを閉じずに編集を続行し、D(View Diff)の場合はディスク上のファイルと編集中のテキストの差分を表示します。</p>
</div>
<div class="section" id="id11">
<h3>ウィンドウ操作<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>複数のファイルを同時に開いているときは、メニューの <tt class="docutils literal"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Window</span> <span class="pre">-&gt;</span> <span class="pre">Frame</span> <span class="pre">list</span></tt> でファイルの一覧を表示し、カーソルキーでファイルを選択できます。</p>
<p>画面を縦横に分割し、同じファイルの別々の位置を同時に編集できます。画面を縦に分割するときはメニューの <tt class="docutils literal"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Window</span> <span class="pre">-&gt;</span> <span class="pre">Split</span> <span class="pre">Vert</span></tt>、横に分割するときは <tt class="docutils literal"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Window</span> <span class="pre">-&gt;</span> <span class="pre">Split</span> <span class="pre">Horz</span></tt> を選択します。</p>
<p>分割したウィンドウ間は、<tt class="docutils literal"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Window</span> <span class="pre">-&gt;</span> <span class="pre">Next</span> <span class="pre">window</span></tt> と <tt class="docutils literal"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Window</span> <span class="pre">-&gt;</span> <span class="pre">Prev</span> <span class="pre">window</span></tt> で移動できます。</p>
<p>分割したウィンドウに別のファイルを表示する場合、<tt class="docutils literal"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Window</span> <span class="pre">-&gt;</span> <span class="pre">Switch</span> <span class="pre">File</span></tt> 又は <cite>alt+w</cite> キーでメニューを表示し、新しいファイルを選択します。</p>
<div class="highlight-python"><pre>Switch file/New file here/Open file here/Recently used Files/Recently used Dirs</pre>
</div>
<p>分割したウィンドウは、<tt class="docutils literal"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Window</span> <span class="pre">-&gt;</span> <span class="pre">Join</span></tt> で結合し、ひとつのウィンドウに戻ります。</p>
</div>
<div class="section" id="id12">
<h3>kaaを終了する<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>kaa を終了するときには、メニューの <tt class="docutils literal"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Quit</span></tt> を選択します。</p>
</div>
</div>
<div class="section" id="python">
<h2>Pythonデバッガ<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h2>
<p>kaa を使って、Pythonスクリプトのデバッグを行います。 kaa の実行には Python3.3 以降が必要ですが、デバッグの対象となるスクリプトは Python 2.6 〜 3.x 上で起動し、デバッグできます。</p>
<p>デバッグを行うには、まずデバッグ対象のスクリプトを、デバッグ用のスクリプトで起動します。デバッグ用のスクリプトは、PyPI からインストールします。</p>
<div class="code sh highlight-python"><pre>$ sudo easy_install -U kaadbg</pre>
</div>
<p>kaa でメニューの <tt class="docutils literal"><span class="pre">Tools</span> <span class="pre">-&gt;</span> <span class="pre">Python</span> <span class="pre">Debugger</span> <span class="pre">Server</span></tt> を選択し、ポート番号 28110 を指定して Pythonデバッガを起動します。デバッガウィンドウが表示されるので、そのまま別のターミナルウィンドウを起動します。</p>
<p>新しく起動したターミナルで、デバッグを行う Python インタープリタを指定し、スクリプトを実行します。ここでは Python2.7 を使って、<cite>myscript.py</cite> というスクリプトをデバッグしています。</p>
<div class="code sh highlight-python"><pre>$ python2.7 -m kaadbg.run myscript.py arg1</pre>
</div>
<p>スクリプトを開始すると、kaa 上で <cite>myscript.py</cite> が開きます。ここで、<cite>alt+s</cite> (Step) キーを押すと、一行ずつステップ実行します。</p>
<p>デバッグ画面でエスケープキーを押し、<cite>myscript.py</cite> の適当な行で <tt class="docutils literal"><span class="pre">f8</span></tt> キーを押すと、その行にブレークポイントが設定されます。メニューの <tt class="docutils literal"><span class="pre">Tools</span> <span class="pre">-&gt;</span> <span class="pre">Python</span> <span class="pre">Debugger</span> <span class="pre">Server</span></tt> を選択してデバッガ画面を表示し、<cite>alt+c</cite> (Continue) キーを押すと、実行を再開してブレークポイントを設定した位置で停止します。</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Kaa tutorial</a><ul>
<li><a class="reference internal" href="#id1">インストール</a><ul>
<li><a class="reference internal" href="#ubuntu-linux">Ubuntu linuxの場合</a><ul>
<li><a class="reference internal" href="#python3-3">Python3.3のインストール</a></li>
<li><a class="reference internal" href="#kaa">必須ライブラリと kaa のインストール</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mac-os-x">Mac OS Xの場合</a><ul>
<li><a class="reference internal" href="#id2">Python3.3のインストール</a></li>
<li><a class="reference internal" href="#id4">kaaのインストール</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id5">環境設定</a><ul>
<li><a class="reference internal" href="#id6">キーボード設定</a></li>
<li><a class="reference internal" href="#id7">色設定</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">kaaの基本操作</a><ul>
<li><a class="reference internal" href="#id9">メニュー操作</a></li>
<li><a class="reference internal" href="#id10">ファイル操作</a></li>
<li><a class="reference internal" href="#id11">ウィンドウ操作</a></li>
<li><a class="reference internal" href="#id12">kaaを終了する</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python">Pythonデバッガ</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to kaa&#8217;s documentation!</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/TUTORIAL-JA.txt"
           rel="nofollow">Show Source</a></li>
  </ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44779175-1', 'kaaedit.github.io');
  ga('send', 'pageview');

</script>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="index.html" title="Welcome to kaa’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">kaa 0.18.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Atsuo Ishimoto.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>